<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="weatherflowsmartweather"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://www.openhab.org/schemas/thing-description-1.0.0.xsd">

	<thing-type id="air">
		<supported-bridge-type-refs>
			<bridge-type-ref id="hub"/>
		</supported-bridge-type-refs>

		<label>SmartWeather Air</label>
		<description>Air and Lightning sensors</description>

		<channels>
			<channel id="epoch" typeId="epoch"/>
			<channel id="temperature" typeId="airTemperature"/>
			<channel id="pressure" typeId="pressure"/>
			<channel id="humidity" typeId="humidity"/>
			<channel id="strike_count" typeId="count"/>
			<channel id="strike_distance" typeId="distance"/>
			<channel id="battery_level" typeId="battery_level"/>
		</channels>

		<properties>
			<property name="serial_number"></property>
		</properties>
	</thing-type>

	<thing-type id="sky">
		<supported-bridge-type-refs>
			<bridge-type-ref id="hub"/>
		</supported-bridge-type-refs>

		<label>SmartWeather Sky</label>
		<description>Wind, Rain and UV sensors</description>

		<channels>
			<channel id="epoch" typeId="epoch"/>
			<channel id="illuminance" typeId="illuminance"/>
			<channel id="uv" typeId="uv"/>
			<channel id="rain_accumulated" typeId="rain_accumulated"/>
			<channel id="wind_lull" typeId="wind_lull"/>
			<channel id="wind_avg" typeId="wind_avg"/>
			<channel id="wind_gust" typeId="wind_gust"/>
			<channel id="wind_direction" typeId="wind_direction"/>
			<channel id="battery_level" typeId="battery_level"/>
			<channel id="report_interval" typeId="report_interval"/>
			<channel id="solar_radiation" typeId="solar_radiation"/>
			<channel id="precipitation_type" typeId="precipitation_type"/>
			<channel id="wind_sample_interval" typeId="wind_sample_interval"/>

		</channels>

		<properties>
			<property name="serial_number"></property>
		</properties>
	</thing-type>

	<thing-type id="tempest">
		<supported-bridge-type-refs>
			<bridge-type-ref id="hub"/>
		</supported-bridge-type-refs>

		<label>SmartWeather Tempest</label>
		<description>Air, Wind, Rain and Lightning sensors</description>

		<channels>
			<channel id="epoch" typeId="epoch"/>
			<channel id="temperature" typeId="airTemperature"/>
			<channel id="pressure" typeId="pressure"/>
			<channel id="humidity" typeId="humidity"/>
			<channel id="strike_count" typeId="count"/>
			<channel id="strike_distance" typeId="distance"/>

			<channel id="illuminance" typeId="illuminance"/>
			<channel id="uv" typeId="uv"/>
			<channel id="rain_accumulated" typeId="rain_accumulated"/>
			<channel id="wind_lull" typeId="wind_lull"/>
			<channel id="wind_avg" typeId="wind_avg"/>
			<channel id="wind_gust" typeId="wind_gust"/>
			<channel id="wind_direction" typeId="wind_direction"/>
			<channel id="report_interval" typeId="report_interval"/>
			<channel id="solar_radiation" typeId="solar_radiation"/>
			<channel id="precipitation_type" typeId="precipitation_type"/>
			<channel id="wind_sample_interval" typeId="wind_sample_interval"/>

			<channel id="battery_level" typeId="battery_level"/>

		</channels>

		<properties>
			<property name="serial_number"></property>
		</properties>
	</thing-type>


	<thing-type id="better-forecast">

		<label>SmartWeather Better Forecast</label>
		<description>Localized forecast for a given station</description>

		<channels>
			<channel id="epoch" typeId="epoch"/>
			<channel id="station_name" typeId="stationName"/>
			<channel id="forecast_raw" typeId="forecastRaw"/>
			<channel id="forecast_enriched" typeId="forecastEnriched"/>
		</channels>

		<config-description>
			<parameter name="station_id" type="integer">
				<label>Station ID</label>
				<description>Station ID</description>
				<required>true</required>
			</parameter>
			<parameter name="token" type="text">
				<label>Authorization Token</label>
				<description>Authorization Token</description>
				<required>true</required>
			</parameter>
			<parameter name="system_of_measurement" type="text">
				<label>System of Measurement</label>
				<description>System of Measurement</description>
				<required>true</required>
				<options>
					<option value="Metric">Metric</option>
					<option value="US_Customary">US Customary</option>
				</options>
			</parameter>
			<parameter name="keep_hourly" type="integer">
				<label>Maximum Hourly Forecasts</label>
				<description>Maximum Hourly Forecasts to retain. Value of zero (0) keeps all.</description>
				<required>false</required>
			</parameter>
			<parameter name="keep_daily" type="integer">
				<label>Maximum Daily Forecasts</label>
				<description>Maximum Daily Forecasts to retain. Value of zero (0) keeps all.</description>
				<required>false</required>
			</parameter>
		</config-description>
	</thing-type>

	<channel-type id="forecastRaw">
		<item-type>String</item-type>
		<label>Forecast Data (Raw)</label>
		<description>Weather forecast data, as provided by WeatherFlow.</description>
		<category>String</category>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="forecastEnriched">
		<item-type>String</item-type>
		<label>Forecast Data (Enriched)</label>
		<description>Weather forecast data, enriched for easier consumption in UIs.</description>
		<category>String</category>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="stationName">
		<item-type>String</item-type>
		<label>Station Name</label>
		<description>Name of the weather station.</description>
		<category>String</category>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="epoch">
		<item-type>DateTime</item-type>
		<label>Report Epoch</label>
		<description>UTC Time of observation, in seconds since the epoch.</description>
		<category>Time</category>
		<state readOnly="true"/>
	</channel-type>
</thing:thing-descriptions>
